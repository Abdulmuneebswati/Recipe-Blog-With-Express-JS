<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title id="title">{{title}}</title>
    {{> links}}
</head>

<body>
    <div class="container  px-md-5 bg-white shadow-lg">

        {{> header}}

        <div class="px-4 py-5 my-5 text-center">
            <h1 class="display-5 fw-bold">Submit Your Recipe</h1>
            <div class="col-lg-6 mx-auto">
                <p class="lead">Share your amazing recipies with thousands of web developers accross the world. Fill our
                    form to get started. </p>
            </div>
        </div>

        <div class="row justify-content-center">
            {{#if infoSubmitObj}}
<div class=" col-8 alert alert-success" role="alert">
  {{infoSubmitObj}}
</div>
{{/if}}
  {{#if infoErrorsObj}}
<div class="col-8 alert alert-danger" role="alert">
  {{infoErrorsObj}}
</div>
{{/if}}
            <div class="col-8">
                <form action="/submit-recipe" enctype="multipart/form-data" method="post" autocomplete="off">
                <div class="row g-3">
                    <div class="col-12">
                        <label for="email">Email</label>
                        <input class="form-control" type="email" name="email" id="email">
                    </div>
                    <div class="col-12">
                        <label for="name">Recipe Name</label>
                        <input class="form-control"type="text" name="name" id="name">
                    </div>
                    <div class="col-12">
                        <label for="description">Description</label>
                    <textarea class="form-control" name="description" id="description" cols="30" rows="4"></textarea>
                    </div>
                        <div class="col-12">
                        <label for="ingredients">Ingredients</label>
                        <small>Example: Ice</small>
                        <div class="ingredientList">
                            <div class="ingredientDiv mb-1">

                        <input type="text" name="ingredients" class="form-control" id="ingredients">
                            </div>

                        </div>
                    </div>

                    <div class="col-12">
                        <button type="button" class="btn btn-outline-primary" id="addIngredientsBtn">+ Ingredient</button>
                    </div>  
                    <div class="col-12">
                        <label for="category">Select Category</label>
                        <select name="category" class="form-select form-control" aria-label="category">
                            <option selected>Select Category</option>
                            <option value="Thai">Thai</option>
                            <option value="American">American</option>
                            <option value="Chinese">Chinese</option>
                            <option value="Indian">Indian</option>
                            <option value="Mexican">Mexican</option>

                        </select>
                    </div>  
                    <div class="col-12">
                        <label for="image">Product Image</label>
                        <input type="file" class="form-control" name="image" accept="image/*">
                    </div>
                    <div class="col-12">
                        <button type="submit" class="btn btn-primary">Submit Recipe</button>
                    </div>
                </div>
                </form>
            </div>
        </div>





        <footer class="py-5px mt-3">
            <p>Build By Muneeb</p>
        </footer>
    </div>
</body>


<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p"
    crossorigin="anonymous"></script>
<script>
    const title = document.getElementById("title");
    if (title.innerText == "") {
        title.innerText = "Cooking Blog - Made With Node.js"
    }
    let addIngredientsBtn =  document.getElementById('addIngredientsBtn');
    let ingredientList = document.querySelector(".ingredientList");
    let ingredientDiv = document.querySelectorAll(".ingredientDiv")[0];
    addIngredientsBtn.addEventListener("click" ,()=>{
        let newIngredients = ingredientDiv.cloneNode(true);
        let input = newIngredients.getElementsByTagName('input')[0];
        input.value = "";
        ingredientList.appendChild(newIngredients);
    })
</script>

</html>